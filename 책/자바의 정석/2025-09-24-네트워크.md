# 네트워크

## 네트워크 기초 개념

**네트워크 프로그래밍이란**
- 서로 다른 컴퓨터 간의 데이터 통신을 위한 프로그래밍
- 인터넷, 인트라넷 등의 네트워크를 통해 데이터를 주고받는 애플리케이션 개발
- 분산 시스템, 웹 애플리케이션의 기반 기술

**클라이언트/서버 모델**
- **서버(Server)**: 서비스를 제공하는 컴퓨터 또는 프로그램
- **클라이언트(Client)**: 서비스를 요청하고 받는 컴퓨터 또는 프로그램
- 1:N 관계로 하나의 서버가 여러 클라이언트에게 서비스 제공

**IP 주소와 포트**
- **IP 주소**: 네트워크상에서 컴퓨터를 유일하게 식별하는 주소 (예: 192.168.1.1)
- **포트 번호**: 하나의 컴퓨터에서 실행되는 여러 프로세스를 구분 (0~65535)
- **Well-known 포트**: HTTP(80), FTP(21), SMTP(25), POP3(110) 등

## OSI 7계층과 TCP/IP 모델

**TCP/IP 4계층 구조**
- **애플리케이션 계층**: HTTP, FTP, SMTP 등의 프로토콜
- **전송 계층**: TCP, UDP 프로토콜
- **인터넷 계층**: IP 프로토콜
- **네트워크 인터페이스 계층**: 물리적 네트워크

## TCP (Transmission Control Protocol)

**TCP의 특징**
- **연결지향적**: 3-way handshake로 연결 설정
- **신뢰성**: 데이터 전송 보장, 순서 보장, 오류 검출 및 재전송
- **흐름 제어**: 수신자의 처리 속도에 맞춰 전송 속도 조절
- **혼잡 제어**: 네트워크 상황에 따른 전송량 조절

**TCP 소켓 프로그래밍**
```java
// 서버 측
ServerSocket serverSocket = new ServerSocket(포트번호);
Socket socket = serverSocket.accept(); // 클라이언트 연결 대기

// 클라이언트 측
Socket socket = new Socket("서버IP", 포트번호);
```

## UDP (User Datagram Protocol)

**UDP의 특징**
- **비연결지향적**: 연결 설정 없이 바로 데이터 전송
- **빠른 속도**: 연결 설정/해제 과정이 없어 빠름
- **신뢰성 없음**: 데이터 전송 보장하지 않음, 순서 보장 안함
- **적은 오버헤드**: 헤더가 간단함

**사용 사례**
- 실시간 게임, 스트리밍, DNS 조회 등

## 주요 네트워크 클래스들

**InetAddress 클래스**
```java
InetAddress addr = InetAddress.getByName("www.google.com");
System.out.println(addr.getHostAddress()); // IP 주소 출력
System.out.println(addr.getHostName());    // 호스트명 출력
```

**Socket과 ServerSocket (TCP)**
- **Socket**: 클라이언트가 서버에 연결할 때 사용
- **ServerSocket**: 서버가 클라이언트의 연결을 받을 때 사용
- InputStream/OutputStream을 통한 데이터 송수신

**DatagramSocket과 DatagramPacket (UDP)**
- **DatagramSocket**: UDP 통신을 위한 소켓
- **DatagramPacket**: 전송할 데이터를 패킷으로 감싸는 클래스

**URL과 URLConnection**
```java
URL url = new URL("http://www.example.com");
URLConnection conn = url.openConnection();
InputStream in = conn.getInputStream();
```

## 네트워크 프로그래밍 실습 예제

**간단한 TCP 에코 서버**
- 클라이언트가 보낸 메시지를 그대로 돌려보내는 서버
- BufferedReader/PrintWriter 사용한 문자열 송수신

**채팅 프로그램**
- 멀티스레드를 이용한 실시간 채팅
- 여러 클라이언트 동시 접속 처리

**파일 전송 프로그램**
- FileInputStream/FileOutputStream 활용
- 바이너리 데이터 전송

## 멀티스레드 네트워크 프로그래밍

**필요성**
- 한 번에 여러 클라이언트 처리를 위해 필수
- 클라이언트마다 별도 스레드 생성

**구현 방법**
- Thread 상속 또는 Runnable 인터페이스 구현
- Thread Pool 활용으로 성능 최적화

## 네트워크 보안과 예외 처리

**주요 예외들**
- **IOException**: 네트워크 연결 오류
- **SocketException**: 소켓 관련 오류
- **UnknownHostException**: 호스트를 찾을 수 없을 때

**보안 고려사항**
- 데이터 암호화
- 인증과 권한 부여
- 방화벽과 포트 관리
