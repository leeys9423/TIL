# 서브클래싱과 서브타이핑

## 상속의 두가지 용도

- **서브클래싱(subclassing)**: 코드 재사용을 위한 상속
- **서브타이핑(subtyping)**: 타입 계층을 구성하기 위한 상속

## 서브클래싱 vs 서브타이핑

### 서브타이핑

- 주목적: 코드 재사용
- 부모 클래스의 구현을 재사용하는 것이 목표
- 구현 상속(implementation inheritance)이라고도 함
- 자식 클래스와 부모 클래스 간 행동 호환성 보장되지 않음

### 서브타이핑

- 주목적: 인터페이스 상속
- 부모 클래스의 인터페이스를 재사용하는 것이 목표
- 자식 클래스가 부모 클래스를 대체할 수 있어야 함
- 리스코프 치환 원칙(LSP)을 만족해야 함

## 계약에 의한 설계(Design by Contract)

### 사전조건(Precondition)

- 메서드가 호출되기 전에 만족되어야 하는 조건
- 자식 클래스는 부모보다 사전조건을 강화할 수 없음

### 사후조건(Postcondition)

- 메서드가 실행된 후 만족되어야 하는 조건
- 자식 클래스는 부모보다 사후조건을 약화시킬 수 없음

### 불변식(Invariant)

- 항상 참이어야 하는 조건
- 모든 서브타입에서 유지되어야 함

## 합성 vs 상속

- 합성의 장점: 느슨한 결합, 높은 응집도, 런타임에 관계 변경 가능
- 상속의 단점: 강한 결합, 컴파일 타임에 관계 고정, 캡슐화 위반 위험

## 결론

상속은 강력한 도구이지만 신중하게 사용해야 합니다. 단순한 코드 재사용보다는 진정한 IS-A 관계와 리스코프 치환 원칙을 만족하는 서브타이핑을 위해 사용해야 하며, 대부분의 경우 합성이 더 나은 선택이 될 수 있습니다.
