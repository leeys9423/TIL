# build, run

## build

**로컬에 이미지를 생성**만 하는 것

### 기본문법

```bash
docker build [OPTIONS] PATH | URL | -
```

### 가장 기본적인 사용법

```bash
# 현재 디렉토리의 Dockerfile로 이미지 빌드
docker build .

# 이미지에 태그 지정하여 빌드(-t 또는 --tag)
docker build -t myapp:1.0 .

# 특정 Dockerfile 지정(-f 또는 --file -> 특정파일)
docker build -f Dockerfile.prod -t myapp:prod .
```

## run

Docker 컨테이너를 생성하고 실행하는 가장 기본적인 명령어

`run` 명령어를 통해 Docker 이미지를 기반으로 새로운 컨테이너를 시작

### 기본 구문

```
docker run [옵션] 이미지[태그] [명령어] [인자...]
```

### 주요 옵션

- -d, --detach: 백그라운드에서 컨테이너 실행
- -p, --publish: 호스트와 컨테이너 간 포트 매핑 (예: `-p 8080:80`)
- -v, --volume: 호스트와 컨테이너 간 볼륨 마운트 (예: `-v /호스트경로:/컨테이너경로` )
- -e, --env: 환경 변수 설정 (예: `-e MYSQL_ROOT_PASSWORD=password` )
- --name: 컨테이너에 이름 지정
- --rm: 컨테이너 종료 시 자동 삭제
- -it: 대화형 터미널 모드로 실행

## 사용 예시

1. **기본 실행**:

   ```
   docker run nginx
   ```

2. **백그라운드 실행 및 포트 매핑**:

   ```
   docker run -d -p 8080:80 --name my-nginx nginx
   ```

3. **환경 변수 설정**:

   ```
   docker run -e MYSQL_ROOT_PASSWORD=my-secret-pw -d mysql
   ```

4. **볼륨 마운트**:

   ```
   docker run -v /호스트경로:/컨테이너경로 ubuntu
   ```

5. **명령어 실행 후 종료**:

   ```
   docker run --rm ubuntu echo "Hello, Docker!"
   ```

6. **대화형 쉘 실행**:

   ```
   docker run -it ubuntu bash
   ```

`docker run` 명령어는 새 컨테이너를 생성하기 때문에, 이미 존재하는 컨테이너를 시작하려면 `docker start` 명령어를 사용해야 합니다. 또한 실행 중인 컨테이너의 로그를 보려면 `docker logs` 명령어를 사용할 수 있습니다.
