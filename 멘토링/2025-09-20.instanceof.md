# instanceof

ê°ì²´ê°€ íŠ¹ì • í´ë˜ìŠ¤ ë˜ëŠ” ì¸í„°í˜ì´ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤(ê°ì²´)ì¸ì§€, ë˜ëŠ” í•´ë‹¹ í´ë˜ìŠ¤ë¥¼ ìƒì†ë°›ì•˜ëŠ”ì§€ í™•ì¸í•˜ëŠ” ì—°ì‚°ì

## instanceofë¥¼ ì§€ì–‘í•´ì•¼ í•˜ëŠ” ì´ìœ 

`instanceof`ë¥¼ ë‚¨ìš©í•˜ë©´ ê°ì²´ì§€í–¥ì˜ í•µì‹¬ì¸ **ë‹¤í˜•ì„±**ì„ ì œëŒ€ë¡œ í™œìš©í•˜ì§€ ëª»í•œë‹¤.

## ì£¼ìš” ë¬¸ì œì 

### 1. ë‹¤í˜•ì„± ìœ„ë°˜

- íƒ€ì…ë³„ ë¶„ê¸° ì²˜ë¦¬ëŠ” ë‹¤í˜•ì„±ì˜ ë³¸ì§ˆê³¼ ë°˜ëŒ€
- ê° í´ë˜ìŠ¤ê°€ ìì‹ ì˜ í–‰ë™ì„ ì •ì˜í•˜ë„ë¡ í•˜ëŠ” ê²ƒì´ ê°ì²´ì§€í–¥ì˜ ê¸°ë³¸

```java
// âŒ ë¬¸ì œê°€ ìˆëŠ” ì½”ë“œ
public void processAnimal(Animal animal) {
    if (animal instanceof Dog) {
        ((Dog) animal).bark();
    } else if (animal instanceof Cat) {
        ((Cat) animal).meow();
    }
}

// âœ… ê°œì„ ëœ ì½”ë“œ
public void processAnimal(Animal animal) {
    animal.makeSound(); // ê° í´ë˜ìŠ¤ì—ì„œ ì˜¤ë²„ë¼ì´ë“œ
}
```

### 2. ê°œë°©-íì‡„ ì›ì¹™(OCP) ìœ„ë°˜

- ìƒˆë¡œìš´ íƒ€ì… ì¶”ê°€ ì‹œ ê¸°ì¡´ ì½”ë“œ ìˆ˜ì • í•„ìš”
- "í™•ì¥ì—ëŠ” ì—´ë ¤ìˆê³ , ìˆ˜ì •ì—ëŠ” ë‹«í˜€ìˆì–´ì•¼ í•œë‹¤"ëŠ” ì›ì¹™ ìœ„ë°°

```java
// ìƒˆë¡œìš´ Bird í´ë˜ìŠ¤ ì¶”ê°€ ì‹œ
// instanceof ì‚¬ìš© ì½”ë“œëŠ” ëª¨ë‘ ìˆ˜ì • í•„ìš”
public void processAnimal(Animal animal) {
    if (animal instanceof Dog) {
        ((Dog) animal).bark();
    } else if (animal instanceof Cat) {
        ((Cat) animal).meow();
    } else if (animal instanceof Bird) {  // ğŸ‘ˆ ì¶”ê°€ í•„ìš”
        ((Bird) animal).chirp();
    }
}
```

### 3. ìœ ì§€ë³´ìˆ˜ì„± ì €í•˜

- íƒ€ì… ì²´í¬ ë¡œì§ì´ ì—¬ëŸ¬ ê³³ì— ì‚°ì¬
- ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ë³€ê²½ ì‹œ ìˆ˜ì • ì§€ì ì´ ë§ì•„ì§

### ì˜¬ë°”ë¥¸ ì ‘ê·¼ë²•

```java
abstract class Animal {
    public abstract void makeSound();
}

class Dog extends Animal {
    @Override
    public void makeSound() { bark(); }
    private void bark() { System.out.println("Woof!"); }
}

class Cat extends Animal {
    @Override
    public void makeSound() { meow(); }
    private void meow() { System.out.println("Meow!"); }
}
```

### ì ì ˆí•œ ì‚¬ìš© ì‚¬ë¡€

```java
// âœ… ë°©ì–´ì  ì½”ë”©
@Override
public boolean equals(Object obj) {
    if (!(obj instanceof Person)) return false;
    Person other = (Person) obj;
    return this.id.equals(other.id);
}

// âœ… ì˜ˆì™¸ ì²˜ë¦¬
try {
    // some operation
} catch (Exception e) {
    if (e instanceof SQLException) {
        // íŠ¹ë³„í•œ DB ì—ëŸ¬ ì²˜ë¦¬
    }
}
```
